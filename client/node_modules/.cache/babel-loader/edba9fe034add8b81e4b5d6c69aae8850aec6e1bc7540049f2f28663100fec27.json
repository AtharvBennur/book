{"ast":null,"code":"import{AnimatePresence,motion}from'framer-motion';import{createContext,useCallback,useContext,useMemo,useState}from'react';import{CheckCircle,Info,X,XCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotificationContext=/*#__PURE__*/createContext(null);const ICONS={success:CheckCircle,error:XCircle,info:Info};const toneClasses={success:'bg-emerald-600/95 text-white border border-emerald-400/40',error:'bg-rose-600/95 text-white border border-rose-400/40',info:'bg-slate-800/95 text-white border border-slate-600/60'};const ToastHost=_ref=>{var _ICONS$toast$type;let{toast,onDismiss}=_ref;const Icon=toast?(_ICONS$toast$type=ICONS[toast.type])!==null&&_ICONS$toast$type!==void 0?_ICONS$toast$type:ICONS.info:null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed top-6 right-4 z-[9999] flex flex-col gap-2\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:toast&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:0.2},className:\"flex items-start gap-3 rounded-2xl px-4 py-3 shadow-2xl shadow-black/30 \".concat(toneClasses[toast.type]),children:[Icon&&/*#__PURE__*/_jsx(Icon,{className:\"mt-0.5 h-5 w-5 shrink-0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:toast.message}),/*#__PURE__*/_jsx(\"button\",{onClick:onDismiss,className:\"ms-2 rounded-full p-1 text-white/70 hover:text-white transition\",\"aria-label\":\"Dismiss notification\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]},toast.id)})});};export const NotificationProvider=_ref2=>{let{children}=_ref2;const[toast,setToast]=useState(null);const dismiss=useCallback(()=>setToast(null),[]);const notify=useCallback(function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';setToast({id:Date.now(),message,type});const timer=setTimeout(()=>{setToast(current=>(current===null||current===void 0?void 0:current.message)===message?null:current);},3500);return()=>clearTimeout(timer);},[]);const value=useMemo(()=>({notify,dismiss}),[notify,dismiss]);return/*#__PURE__*/_jsxs(NotificationContext.Provider,{value:value,children:[children,/*#__PURE__*/_jsx(ToastHost,{toast:toast,onDismiss:dismiss})]});};export const useNotification=()=>{const ctx=useContext(NotificationContext);if(!ctx)throw new Error('useNotification must be used within NotificationProvider');return ctx;};","map":{"version":3,"names":["AnimatePresence","motion","createContext","useCallback","useContext","useMemo","useState","CheckCircle","Info","X","XCircle","jsx","_jsx","jsxs","_jsxs","NotificationContext","ICONS","success","error","info","toneClasses","ToastHost","_ref","_ICONS$toast$type","toast","onDismiss","Icon","type","className","children","div","initial","opacity","y","animate","exit","transition","duration","concat","message","onClick","id","NotificationProvider","_ref2","setToast","dismiss","notify","arguments","length","undefined","Date","now","timer","setTimeout","current","clearTimeout","value","Provider","useNotification","ctx","Error"],"sources":["C:/Users/dell/Desktop/pro/book-exchange-app/client/src/context/NotificationContext.js"],"sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\r\nimport { createContext, useCallback, useContext, useMemo, useState } from 'react';\r\nimport { CheckCircle, Info, X, XCircle } from 'lucide-react';\r\n\r\nconst NotificationContext = createContext(null);\r\n\r\nconst ICONS = {\r\n  success: CheckCircle,\r\n  error: XCircle,\r\n  info: Info,\r\n};\r\n\r\nconst toneClasses = {\r\n  success: 'bg-emerald-600/95 text-white border border-emerald-400/40',\r\n  error: 'bg-rose-600/95 text-white border border-rose-400/40',\r\n  info: 'bg-slate-800/95 text-white border border-slate-600/60',\r\n};\r\n\r\nconst ToastHost = ({ toast, onDismiss }) => {\r\n  const Icon = toast ? ICONS[toast.type] ?? ICONS.info : null;\r\n  return (\r\n    <div className=\"fixed top-6 right-4 z-[9999] flex flex-col gap-2\">\r\n      <AnimatePresence>\r\n        {toast && (\r\n          <motion.div\r\n            key={toast.id}\r\n            initial={{ opacity: 0, y: -8 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -8 }}\r\n            transition={{ duration: 0.2 }}\r\n            className={`flex items-start gap-3 rounded-2xl px-4 py-3 shadow-2xl shadow-black/30 ${toneClasses[toast.type]}`}\r\n          >\r\n            {Icon && <Icon className=\"mt-0.5 h-5 w-5 shrink-0\" />}\r\n            <div className=\"text-sm font-medium\">{toast.message}</div>\r\n            <button\r\n              onClick={onDismiss}\r\n              className=\"ms-2 rounded-full p-1 text-white/70 hover:text-white transition\"\r\n              aria-label=\"Dismiss notification\"\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </button>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const NotificationProvider = ({ children }) => {\r\n  const [toast, setToast] = useState(null);\r\n\r\n  const dismiss = useCallback(() => setToast(null), []);\r\n\r\n  const notify = useCallback((message, type = 'info') => {\r\n    setToast({ id: Date.now(), message, type });\r\n    const timer = setTimeout(() => {\r\n      setToast((current) => (current?.message === message ? null : current));\r\n    }, 3500);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  const value = useMemo(() => ({ notify, dismiss }), [notify, dismiss]);\r\n\r\n  return (\r\n    <NotificationContext.Provider value={value}>\r\n      {children}\r\n      <ToastHost toast={toast} onDismiss={dismiss} />\r\n    </NotificationContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useNotification = () => {\r\n  const ctx = useContext(NotificationContext);\r\n  if (!ctx) throw new Error('useNotification must be used within NotificationProvider');\r\n  return ctx;\r\n};\r\n\r\n"],"mappings":"AAAA,OAASA,eAAe,CAAEC,MAAM,KAAQ,eAAe,CACvD,OAASC,aAAa,CAAEC,WAAW,CAAEC,UAAU,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CACjF,OAASC,WAAW,CAAEC,IAAI,CAAEC,CAAC,CAAEC,OAAO,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,mBAAmB,cAAGb,aAAa,CAAC,IAAI,CAAC,CAE/C,KAAM,CAAAc,KAAK,CAAG,CACZC,OAAO,CAAEV,WAAW,CACpBW,KAAK,CAAER,OAAO,CACdS,IAAI,CAAEX,IACR,CAAC,CAED,KAAM,CAAAY,WAAW,CAAG,CAClBH,OAAO,CAAE,2DAA2D,CACpEC,KAAK,CAAE,qDAAqD,CAC5DC,IAAI,CAAE,uDACR,CAAC,CAED,KAAM,CAAAE,SAAS,CAAGC,IAAA,EAA0B,KAAAC,iBAAA,IAAzB,CAAEC,KAAK,CAAEC,SAAU,CAAC,CAAAH,IAAA,CACrC,KAAM,CAAAI,IAAI,CAAGF,KAAK,EAAAD,iBAAA,CAAGP,KAAK,CAACQ,KAAK,CAACG,IAAI,CAAC,UAAAJ,iBAAA,UAAAA,iBAAA,CAAIP,KAAK,CAACG,IAAI,CAAG,IAAI,CAC3D,mBACEP,IAAA,QAAKgB,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cAC/DjB,IAAA,CAACZ,eAAe,EAAA6B,QAAA,CACbL,KAAK,eACJV,KAAA,CAACb,MAAM,CAAC6B,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAE,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BE,IAAI,CAAE,CAAEH,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAE,CAAE,CAC5BG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAC9BT,SAAS,4EAAAU,MAAA,CAA6ElB,WAAW,CAACI,KAAK,CAACG,IAAI,CAAC,CAAG,CAAAE,QAAA,EAE/GH,IAAI,eAAId,IAAA,CAACc,IAAI,EAACE,SAAS,CAAC,yBAAyB,CAAE,CAAC,cACrDhB,IAAA,QAAKgB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAEL,KAAK,CAACe,OAAO,CAAM,CAAC,cAC1D3B,IAAA,WACE4B,OAAO,CAAEf,SAAU,CACnBG,SAAS,CAAC,iEAAiE,CAC3E,aAAW,sBAAsB,CAAAC,QAAA,cAEjCjB,IAAA,CAACH,CAAC,EAACmB,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,GAfJJ,KAAK,CAACiB,EAgBD,CACb,CACc,CAAC,CACf,CAAC,CAEV,CAAC,CAED,MAAO,MAAM,CAAAC,oBAAoB,CAAGC,KAAA,EAAkB,IAAjB,CAAEd,QAAS,CAAC,CAAAc,KAAA,CAC/C,KAAM,CAACnB,KAAK,CAAEoB,QAAQ,CAAC,CAAGtC,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAuC,OAAO,CAAG1C,WAAW,CAAC,IAAMyC,QAAQ,CAAC,IAAI,CAAC,CAAE,EAAE,CAAC,CAErD,KAAM,CAAAE,MAAM,CAAG3C,WAAW,CAAC,SAACoC,OAAO,CAAoB,IAAlB,CAAAZ,IAAI,CAAAoB,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,MAAM,CAChDH,QAAQ,CAAC,CAAEH,EAAE,CAAES,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEZ,OAAO,CAAEZ,IAAK,CAAC,CAAC,CAC3C,KAAM,CAAAyB,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7BT,QAAQ,CAAEU,OAAO,EAAM,CAAAA,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEf,OAAO,IAAKA,OAAO,CAAG,IAAI,CAAGe,OAAQ,CAAC,CACxE,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,IAAMC,YAAY,CAACH,KAAK,CAAC,CAClC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,KAAK,CAAGnD,OAAO,CAAC,KAAO,CAAEyC,MAAM,CAAED,OAAQ,CAAC,CAAC,CAAE,CAACC,MAAM,CAAED,OAAO,CAAC,CAAC,CAErE,mBACE/B,KAAA,CAACC,mBAAmB,CAAC0C,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAA3B,QAAA,EACxCA,QAAQ,cACTjB,IAAA,CAACS,SAAS,EAACG,KAAK,CAAEA,KAAM,CAACC,SAAS,CAAEoB,OAAQ,CAAE,CAAC,EACnB,CAAC,CAEnC,CAAC,CAED,MAAO,MAAM,CAAAa,eAAe,CAAGA,CAAA,GAAM,CACnC,KAAM,CAAAC,GAAG,CAAGvD,UAAU,CAACW,mBAAmB,CAAC,CAC3C,GAAI,CAAC4C,GAAG,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,0DAA0D,CAAC,CACrF,MAAO,CAAAD,GAAG,CACZ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}