{"ast":null,"code":"import{Heart,MapPin,MessageSquare,UserRound}from'lucide-react';import clsx from'clsx';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FALLBACK_IMG='https://images.unsplash.com/photo-1517430816045-df4b7de11d1d?auto=format&fit=crop&w=800&q=80';const statusTone={available:'text-emerald-300 bg-emerald-400/10 border-emerald-400/30',reserved:'text-amber-300 bg-amber-500/10 border-amber-400/30',exchanged:'text-rose-200 bg-rose-500/10 border-rose-400/30'};const BookCard=_ref=>{var _book$ownerId,_statusTone;let{book,isFavorite,isOwner,onToggleFavorite,onRequestExchange,onChat}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"group flex h-full flex-col overflow-hidden rounded-3xl border border-white/10 bg-white/5 shadow-2xl shadow-black/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-56 overflow-hidden border-b border-white/5\",children:[/*#__PURE__*/_jsx(\"img\",{src:book.imageUrl||FALLBACK_IMG,alt:book.title,className:\"h-full w-full object-cover transition duration-700 group-hover:scale-105\",onError:event=>{event.target.src=FALLBACK_IMG;}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-4 top-4 flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-white/70\",children:/*#__PURE__*/_jsx(\"span\",{className:\"rounded-full border border-white/20 bg-white/10 px-3 py-1\",children:book.genre||'General'})}),onToggleFavorite&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onToggleFavorite(book.id),className:clsx('absolute right-4 top-4 rounded-full border px-2.5 py-2 transition',isFavorite?'border-rose-400/60 bg-rose-500/20 text-rose-200':'border-white/20 bg-slate-900/40 text-white/70 hover:text-white'),\"aria-label\":isFavorite?'Remove from favorites':'Add to favorites',children:/*#__PURE__*/_jsx(Heart,{className:clsx('h-4 w-4',isFavorite&&'fill-current')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 flex-col gap-4 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs uppercase tracking-[0.3em] text-white/40\",children:\"Title\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-1 text-2xl font-semibold text-white\",children:book.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-white/60\",children:[\"by \",book.author]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-white/60\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-4 w-4 text-emerald-300\"}),/*#__PURE__*/_jsx(\"span\",{children:book.location||'Remote'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-sm text-white/60\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 rounded-full border border-white/10 px-3 py-1.5\",children:[/*#__PURE__*/_jsx(UserRound,{className:\"h-4 w-4 text-white/70\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold uppercase tracking-wide\",children:((_book$ownerId=book.ownerId)===null||_book$ownerId===void 0?void 0:_book$ownerId.slice(0,6))||'Owner'})]}),/*#__PURE__*/_jsx(\"span\",{className:clsx('rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-wide',(_statusTone=statusTone[book.status||'available'])!==null&&_statusTone!==void 0?_statusTone:'border-emerald-400/10 bg-emerald-400/5 text-emerald-200'),children:book.status||'available'}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs uppercase tracking-[0.3em] text-white/50\",children:book.condition})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-auto flex flex-wrap gap-3\",children:isOwner?/*#__PURE__*/_jsx(\"p\",{className:\"rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/70\",children:\"Your listing\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onRequestExchange===null||onRequestExchange===void 0?void 0:onRequestExchange(book),disabled:book.status==='exchanged',className:\"flex flex-1 items-center justify-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 px-4 py-2 text-sm font-semibold text-slate-900 shadow-lg shadow-emerald-500/30 transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60\",children:[/*#__PURE__*/_jsx(SparklesMini,{}),\"Request\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onChat===null||onChat===void 0?void 0:onChat(book),className:\"flex flex-1 items-center justify-center gap-2 rounded-full border border-white/15 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"h-4 w-4\"}),\"Chat\"]})]})})]})]});};const SparklesMini=()=>/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",className:\"h-4 w-4\",fill:\"none\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 3v4m0 10v4m7-7h-4M9 12H5m9.5-5.5l-1.5 3-3 1.5m6 6l-1.5-3-3-1.5\",strokeWidth:\"1.6\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})});export default BookCard;","map":{"version":3,"names":["Heart","MapPin","MessageSquare","UserRound","clsx","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FALLBACK_IMG","statusTone","available","reserved","exchanged","BookCard","_ref","_book$ownerId","_statusTone","book","isFavorite","isOwner","onToggleFavorite","onRequestExchange","onChat","className","children","src","imageUrl","alt","title","onError","event","target","genre","onClick","id","author","location","ownerId","slice","status","condition","disabled","SparklesMini","viewBox","fill","stroke","d","strokeWidth","strokeLinecap","strokeLinejoin"],"sources":["C:/Users/dell/Desktop/pro/book-exchange-app/client/src/components/books/BookCard.jsx"],"sourcesContent":["import { Heart, MapPin, MessageSquare, UserRound } from 'lucide-react';\r\nimport clsx from 'clsx';\r\n\r\nconst FALLBACK_IMG =\r\n  'https://images.unsplash.com/photo-1517430816045-df4b7de11d1d?auto=format&fit=crop&w=800&q=80';\r\n\r\nconst statusTone = {\r\n  available: 'text-emerald-300 bg-emerald-400/10 border-emerald-400/30',\r\n  reserved: 'text-amber-300 bg-amber-500/10 border-amber-400/30',\r\n  exchanged: 'text-rose-200 bg-rose-500/10 border-rose-400/30',\r\n};\r\n\r\nconst BookCard = ({\r\n  book,\r\n  isFavorite,\r\n  isOwner,\r\n  onToggleFavorite,\r\n  onRequestExchange,\r\n  onChat,\r\n}) => {\r\n  return (\r\n    <div className=\"group flex h-full flex-col overflow-hidden rounded-3xl border border-white/10 bg-white/5 shadow-2xl shadow-black/20\">\r\n      <div className=\"relative h-56 overflow-hidden border-b border-white/5\">\r\n        <img\r\n          src={book.imageUrl || FALLBACK_IMG}\r\n          alt={book.title}\r\n          className=\"h-full w-full object-cover transition duration-700 group-hover:scale-105\"\r\n          onError={(event) => {\r\n            event.target.src = FALLBACK_IMG;\r\n          }}\r\n        />\r\n        <div className=\"absolute left-4 top-4 flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-white/70\">\r\n          <span className=\"rounded-full border border-white/20 bg-white/10 px-3 py-1\">\r\n            {book.genre || 'General'}\r\n          </span>\r\n        </div>\r\n        {onToggleFavorite && (\r\n          <button\r\n            onClick={() => onToggleFavorite(book.id)}\r\n            className={clsx(\r\n              'absolute right-4 top-4 rounded-full border px-2.5 py-2 transition',\r\n              isFavorite\r\n                ? 'border-rose-400/60 bg-rose-500/20 text-rose-200'\r\n                : 'border-white/20 bg-slate-900/40 text-white/70 hover:text-white'\r\n            )}\r\n            aria-label={isFavorite ? 'Remove from favorites' : 'Add to favorites'}\r\n          >\r\n            <Heart className={clsx('h-4 w-4', isFavorite && 'fill-current')} />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"flex flex-1 flex-col gap-4 p-6\">\r\n        <div>\r\n          <p className=\"text-xs uppercase tracking-[0.3em] text-white/40\">Title</p>\r\n          <h3 className=\"mt-1 text-2xl font-semibold text-white\">{book.title}</h3>\r\n          <p className=\"text-sm text-white/60\">by {book.author}</p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 text-sm text-white/60\">\r\n          <MapPin className=\"h-4 w-4 text-emerald-300\" />\r\n          <span>{book.location || 'Remote'}</span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3 text-sm text-white/60\">\r\n          <div className=\"flex items-center gap-2 rounded-full border border-white/10 px-3 py-1.5\">\r\n            <UserRound className=\"h-4 w-4 text-white/70\" />\r\n            <span className=\"text-xs font-semibold uppercase tracking-wide\">\r\n              {book.ownerId?.slice(0, 6) || 'Owner'}\r\n            </span>\r\n          </div>\r\n          <span\r\n            className={clsx(\r\n              'rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-wide',\r\n              statusTone[book.status || 'available'] ??\r\n                'border-emerald-400/10 bg-emerald-400/5 text-emerald-200'\r\n            )}\r\n          >\r\n            {book.status || 'available'}\r\n          </span>\r\n          <span className=\"text-xs uppercase tracking-[0.3em] text-white/50\">\r\n            {book.condition}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"mt-auto flex flex-wrap gap-3\">\r\n          {isOwner ? (\r\n            <p className=\"rounded-full border border-white/15 bg-white/5 px-4 py-2 text-sm font-semibold text-white/70\">\r\n              Your listing\r\n            </p>\r\n          ) : (\r\n            <>\r\n              <button\r\n                onClick={() => onRequestExchange?.(book)}\r\n                disabled={book.status === 'exchanged'}\r\n                className=\"flex flex-1 items-center justify-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 px-4 py-2 text-sm font-semibold text-slate-900 shadow-lg shadow-emerald-500/30 transition hover:opacity-95 disabled:cursor-not-allowed disabled:opacity-60\"\r\n              >\r\n                <SparklesMini />\r\n                Request\r\n              </button>\r\n              <button\r\n                onClick={() => onChat?.(book)}\r\n                className=\"flex flex-1 items-center justify-center gap-2 rounded-full border border-white/15 px-4 py-2 text-sm font-semibold text-white/80 transition hover:border-white/40 hover:text-white\"\r\n              >\r\n                <MessageSquare className=\"h-4 w-4\" />\r\n                Chat\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SparklesMini = () => (\r\n  <svg viewBox=\"0 0 24 24\" className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\">\r\n    <path\r\n      d=\"M12 3v4m0 10v4m7-7h-4M9 12H5m9.5-5.5l-1.5 3-3 1.5m6 6l-1.5-3-3-1.5\"\r\n      strokeWidth=\"1.6\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default BookCard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}