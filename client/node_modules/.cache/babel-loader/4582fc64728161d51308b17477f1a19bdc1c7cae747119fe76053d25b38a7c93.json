{"ast":null,"code":"import{useEffect,useMemo,useState}from'react';import{Trophy,BookOpenCheck}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const STORAGE_KEY='be_reading_goal';const ReadingGoal=_ref=>{let{completed=0}=_ref;const[goal,setGoal]=useState(12);useEffect(()=>{const stored=Number(localStorage.getItem(STORAGE_KEY));if(stored>0)setGoal(stored);},[]);const progress=useMemo(()=>{if(!goal)return 0;return Math.min(100,Math.round(completed/goal*100));},[goal,completed]);const handleChange=value=>{const next=Number(value);setGoal(next);localStorage.setItem(STORAGE_KEY,String(next));};return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-xs uppercase tracking-[0.3em] text-slate-400\",children:[/*#__PURE__*/_jsx(Trophy,{className:\"h-4 w-4 text-amber-500\"}),\"Yearly reading goal\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3 text-3xl font-bold text-slate-900\",children:[goal,\" books\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-slate-500\",children:[\"Completed swaps: \",completed]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"4\",max:\"52\",value:goal,onChange:e=>handleChange(e.target.value),className:\"w-full accent-emerald-500\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs font-semibold text-slate-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{children:[progress,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 h-2 w-full rounded-full bg-slate-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 transition-all\",style:{width:\"\".concat(progress,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center gap-3 rounded-2xl border border-emerald-100 bg-emerald-50 px-4 py-3 text-sm text-emerald-700\",children:[/*#__PURE__*/_jsx(BookOpenCheck,{className:\"h-5 w-5\"}),\"Keep a steady rhythm of one swap every \",Math.max(1,Math.round(52/goal)),\" week(s).\"]})]});};export default ReadingGoal;","map":{"version":3,"names":["useEffect","useMemo","useState","Trophy","BookOpenCheck","jsx","_jsx","jsxs","_jsxs","STORAGE_KEY","ReadingGoal","_ref","completed","goal","setGoal","stored","Number","localStorage","getItem","progress","Math","min","round","handleChange","value","next","setItem","String","className","children","type","max","onChange","e","target","style","width","concat"],"sources":["C:/Users/dell/Desktop/pro/book-exchange-app/client/src/components/insights/ReadingGoal.jsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\r\nimport { Trophy, BookOpenCheck } from 'lucide-react';\r\n\r\nconst STORAGE_KEY = 'be_reading_goal';\r\n\r\nconst ReadingGoal = ({ completed = 0 }) => {\r\n  const [goal, setGoal] = useState(12);\r\n\r\n  useEffect(() => {\r\n    const stored = Number(localStorage.getItem(STORAGE_KEY));\r\n    if (stored > 0) setGoal(stored);\r\n  }, []);\r\n\r\n  const progress = useMemo(() => {\r\n    if (!goal) return 0;\r\n    return Math.min(100, Math.round((completed / goal) * 100));\r\n  }, [goal, completed]);\r\n\r\n  const handleChange = (value) => {\r\n    const next = Number(value);\r\n    setGoal(next);\r\n    localStorage.setItem(STORAGE_KEY, String(next));\r\n  };\r\n\r\n  return (\r\n    <div className=\"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm\">\r\n      <div className=\"flex items-center gap-3 text-xs uppercase tracking-[0.3em] text-slate-400\">\r\n        <Trophy className=\"h-4 w-4 text-amber-500\" />\r\n        Yearly reading goal\r\n      </div>\r\n      <p className=\"mt-3 text-3xl font-bold text-slate-900\">{goal} books</p>\r\n      <p className=\"text-sm text-slate-500\">Completed swaps: {completed}</p>\r\n      <div className=\"mt-4\">\r\n        <input\r\n          type=\"range\"\r\n          min=\"4\"\r\n          max=\"52\"\r\n          value={goal}\r\n          onChange={(e) => handleChange(e.target.value)}\r\n          className=\"w-full accent-emerald-500\"\r\n        />\r\n      </div>\r\n      <div className=\"mt-4\">\r\n        <div className=\"flex items-center justify-between text-xs font-semibold text-slate-500\">\r\n          <span>Progress</span>\r\n          <span>{progress}%</span>\r\n        </div>\r\n        <div className=\"mt-2 h-2 w-full rounded-full bg-slate-100\">\r\n          <div\r\n            className=\"h-full rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 transition-all\"\r\n            style={{ width: `${progress}%` }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-6 flex items-center gap-3 rounded-2xl border border-emerald-100 bg-emerald-50 px-4 py-3 text-sm text-emerald-700\">\r\n        <BookOpenCheck className=\"h-5 w-5\" />\r\n        Keep a steady rhythm of one swap every {Math.max(1, Math.round(52 / goal))} week(s).\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReadingGoal;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}