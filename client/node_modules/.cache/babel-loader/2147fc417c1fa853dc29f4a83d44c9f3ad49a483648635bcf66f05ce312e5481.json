{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\Desktop\\\\pro\\\\book-exchange-app\\\\client\\\\src\\\\components\\\\ai\\\\AIAssistant.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Loader2, Sparkles } from 'lucide-react';\nimport { aiApi } from '../../services/api';\nimport { useAuth } from '../../context/AuthContext';\nimport { useNotification } from '../../context/NotificationContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AIAssistant = () => {\n  _s();\n  const [question, setQuestion] = useState('');\n  const [answer, setAnswer] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const {\n    token\n  } = useAuth();\n  const {\n    notify\n  } = useNotification();\n  const ask = async event => {\n    event.preventDefault();\n    if (!question.trim()) return;\n    setIsLoading(true);\n    try {\n      const data = await aiApi.ask(question, token);\n      setAnswer(data.answer || 'No answer received, try again.');\n    } catch (err) {\n      notify(err.message || 'Assistant unavailable, please retry.', 'error');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg shadow-slate-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-emerald-600\",\n      children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n        className: \"h-4 w-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), \"Ask the librarian\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-2 text-sm text-slate-600\",\n      children: \"Troubleshooting an exchange or looking for your next genre? Ask a question and get an instant answer.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mt-4 space-y-3\",\n      onSubmit: ask,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: question,\n        onChange: event => setQuestion(event.target.value),\n        placeholder: \"e.g. \\u201CHow do I mark a swap as completed?\\u201D\",\n        className: \"min-h-[90px] w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 outline-none transition focus:border-emerald-400/60 focus:ring-2 focus:ring-emerald-400/20\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        className: \"flex w-full items-center justify-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60\",\n        children: [isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-4 w-4 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(Sparkles, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 71\n        }, this), \"Ask AI\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), answer && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700\",\n      children: answer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(AIAssistant, \"8ktTqyP3GuLz72KMHRU+GFaZBRA=\", false, function () {\n  return [useAuth, useNotification];\n});\n_c = AIAssistant;\nexport default AIAssistant;\nvar _c;\n$RefreshReg$(_c, \"AIAssistant\");","map":{"version":3,"names":["useState","Loader2","Sparkles","aiApi","useAuth","useNotification","jsxDEV","_jsxDEV","AIAssistant","_s","question","setQuestion","answer","setAnswer","isLoading","setIsLoading","token","notify","ask","event","preventDefault","trim","data","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","placeholder","type","disabled","_c","$RefreshReg$"],"sources":["C:/Users/dell/Desktop/pro/book-exchange-app/client/src/components/ai/AIAssistant.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { Loader2, Sparkles } from 'lucide-react';\r\nimport { aiApi } from '../../services/api';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useNotification } from '../../context/NotificationContext';\r\n\r\nconst AIAssistant = () => {\r\n  const [question, setQuestion] = useState('');\r\n  const [answer, setAnswer] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { token } = useAuth();\r\n  const { notify } = useNotification();\r\n\r\n  const ask = async (event) => {\r\n    event.preventDefault();\r\n    if (!question.trim()) return;\r\n    setIsLoading(true);\r\n    try {\r\n      const data = await aiApi.ask(question, token);\r\n      setAnswer(data.answer || 'No answer received, try again.');\r\n    } catch (err) {\r\n      notify(err.message || 'Assistant unavailable, please retry.', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg shadow-slate-100\">\r\n      <div className=\"flex items-center gap-2 text-xs uppercase tracking-[0.3em] text-emerald-600\">\r\n        <Sparkles className=\"h-4 w-4\" />\r\n        Ask the librarian\r\n      </div>\r\n      <p className=\"mt-2 text-sm text-slate-600\">\r\n        Troubleshooting an exchange or looking for your next genre? Ask a question and get an instant\r\n        answer.\r\n      </p>\r\n      <form className=\"mt-4 space-y-3\" onSubmit={ask}>\r\n        <textarea\r\n          value={question}\r\n          onChange={(event) => setQuestion(event.target.value)}\r\n          placeholder=\"e.g. “How do I mark a swap as completed?”\"\r\n          className=\"min-h-[90px] w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-700 outline-none transition focus:border-emerald-400/60 focus:ring-2 focus:ring-emerald-400/20\"\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className=\"flex w-full items-center justify-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 disabled:cursor-not-allowed disabled:opacity-60\"\r\n        >\r\n          {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Sparkles className=\"h-4 w-4\" />}\r\n          Ask AI\r\n        </button>\r\n      </form>\r\n      {answer && (\r\n        <div className=\"mt-4 rounded-2xl border border-slate-200 bg-slate-50 p-4 text-sm text-slate-700\">\r\n          {answer}\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AIAssistant;\r\n\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,OAAO,EAAEC,QAAQ,QAAQ,cAAc;AAChD,SAASC,KAAK,QAAQ,oBAAoB;AAC1C,SAASC,OAAO,QAAQ,2BAA2B;AACnD,SAASC,eAAe,QAAQ,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpE,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM;IAAEgB;EAAM,CAAC,GAAGZ,OAAO,CAAC,CAAC;EAC3B,MAAM;IAAEa;EAAO,CAAC,GAAGZ,eAAe,CAAC,CAAC;EAEpC,MAAMa,GAAG,GAAG,MAAOC,KAAK,IAAK;IAC3BA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,IAAI,CAACV,QAAQ,CAACW,IAAI,CAAC,CAAC,EAAE;IACtBN,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMO,IAAI,GAAG,MAAMnB,KAAK,CAACe,GAAG,CAACR,QAAQ,EAAEM,KAAK,CAAC;MAC7CH,SAAS,CAACS,IAAI,CAACV,MAAM,IAAI,gCAAgC,CAAC;IAC5D,CAAC,CAAC,OAAOW,GAAG,EAAE;MACZN,MAAM,CAACM,GAAG,CAACC,OAAO,IAAI,sCAAsC,EAAE,OAAO,CAAC;IACxE,CAAC,SAAS;MACRT,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,oBACER,OAAA;IAASkB,SAAS,EAAC,6EAA6E;IAAAC,QAAA,gBAC9FnB,OAAA;MAAKkB,SAAS,EAAC,6EAA6E;MAAAC,QAAA,gBAC1FnB,OAAA,CAACL,QAAQ;QAACuB,SAAS,EAAC;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,qBAElC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACNvB,OAAA;MAAGkB,SAAS,EAAC,6BAA6B;MAAAC,QAAA,EAAC;IAG3C;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACJvB,OAAA;MAAMkB,SAAS,EAAC,gBAAgB;MAACM,QAAQ,EAAEb,GAAI;MAAAQ,QAAA,gBAC7CnB,OAAA;QACEyB,KAAK,EAAEtB,QAAS;QAChBuB,QAAQ,EAAGd,KAAK,IAAKR,WAAW,CAACQ,KAAK,CAACe,MAAM,CAACF,KAAK,CAAE;QACrDG,WAAW,EAAC,qDAA2C;QACvDV,SAAS,EAAC;MAAiM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5M,CAAC,eACFvB,OAAA;QACE6B,IAAI,EAAC,QAAQ;QACbC,QAAQ,EAAEvB,SAAU;QACpBW,SAAS,EAAC,qOAAqO;QAAAC,QAAA,GAE9OZ,SAAS,gBAAGP,OAAA,CAACN,OAAO;UAACwB,SAAS,EAAC;QAAsB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAGvB,OAAA,CAACL,QAAQ;UAACuB,SAAS,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAAC,QAE/F;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EACNlB,MAAM,iBACLL,OAAA;MAAKkB,SAAS,EAAC,iFAAiF;MAAAC,QAAA,EAC7Fd;IAAM;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACM,CAAC;AAEd,CAAC;AAACrB,EAAA,CAtDID,WAAW;EAAA,QAIGJ,OAAO,EACNC,eAAe;AAAA;AAAAiC,EAAA,GAL9B9B,WAAW;AAwDjB,eAAeA,WAAW;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}