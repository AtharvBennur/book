{"ast":null,"code":"import{Link,NavLink,useLocation,useNavigate}from'react-router-dom';import{BookOpen,CircleUserRound,Heart,MessageSquare,PlusCircle,Sparkles}from'lucide-react';import{useAuth}from'../../context/AuthContext';import{useAppData}from'../../context/AppDataContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const navItems=[{to:'/browse',label:'Browse'},{to:'/favorites',label:'Favorites',requiresAuth:true},{to:'/exchanges',label:'Requests',requiresAuth:true},{to:'/chat',label:'Chat',requiresAuth:true}];const Header=()=>{const{isAuthenticated,user,logout}=useAuth();const{exchanges}=useAppData();const navigate=useNavigate();const location=useLocation();const pendingCount=exchanges.filter(item=>item.status==='requested').length;const handleAuthClick=()=>{if(isAuthenticated){navigate('/profile');}else{navigate('/auth/signin',{state:{from:location.pathname}});}};return/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-40 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto flex max-w-6xl items-center justify-between px-4 py-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-xl bg-gradient-to-br from-emerald-500 to-teal-400 p-2 text-slate-900 shadow-lg\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-bold tracking-tight\",children:\"BookLoop\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs uppercase tracking-[0.3em] text-white/50\",children:\"Exchange\"})]})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"hidden items-center gap-6 md:flex\",children:navItems.map(item=>{if(item.requiresAuth&&!isAuthenticated)return null;return/*#__PURE__*/_jsxs(NavLink,{to:item.to,className:_ref=>{let{isActive}=_ref;return['text-sm font-semibold transition-colors',isActive?'text-white':'text-white/60 hover:text-white'].join(' ');},children:[item.label,item.to==='/exchanges'&&pendingCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 inline-flex h-5 min-w-[1.5rem] items-center justify-center rounded-full bg-rose-500/90 px-2 text-[10px] font-bold text-white\",children:pendingCount})]},item.to);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/browse'),className:\"hidden items-center gap-2 rounded-full border border-white/10 px-3 py-2 text-xs font-semibold text-white/80 transition hover:bg-white/10 md:flex\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"h-4 w-4 text-emerald-400\"}),\"Discover\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(isAuthenticated?'/add':'/auth/signin'),className:\"flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 px-4 py-2 text-sm font-semibold text-slate-900 shadow-lg shadow-emerald-500/30 transition hover:opacity-95\",children:[/*#__PURE__*/_jsx(PlusCircle,{className:\"h-4 w-4\"}),\"List a Book\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAuthClick,className:\"relative flex h-10 w-10 items-center justify-center rounded-full border border-white/15 bg-white/5 text-white transition hover:bg-white/10\",\"aria-label\":isAuthenticated?'Open profile':'Sign in',children:isAuthenticated?/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-bold uppercase\",children:((user===null||user===void 0?void 0:user.name)||(user===null||user===void 0?void 0:user.email)||'?').split(' ').map(chunk=>chunk[0]).join('').slice(0,2)}):/*#__PURE__*/_jsx(CircleUserRound,{className:\"h-5 w-5\"})}),isAuthenticated&&/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"hidden text-xs font-semibold text-white/60 transition hover:text-white md:inline-flex\",children:\"Log out\"})]})]})});};export default Header;","map":{"version":3,"names":["Link","NavLink","useLocation","useNavigate","BookOpen","CircleUserRound","Heart","MessageSquare","PlusCircle","Sparkles","useAuth","useAppData","jsx","_jsx","jsxs","_jsxs","navItems","to","label","requiresAuth","Header","isAuthenticated","user","logout","exchanges","navigate","location","pendingCount","filter","item","status","length","handleAuthClick","state","from","pathname","className","children","map","_ref","isActive","join","onClick","name","email","split","chunk","slice"],"sources":["C:/Users/dell/Desktop/pro/book-exchange-app/client/src/components/layout/Header.jsx"],"sourcesContent":["import { Link, NavLink, useLocation, useNavigate } from 'react-router-dom';\r\nimport {\r\n  BookOpen,\r\n  CircleUserRound,\r\n  Heart,\r\n  MessageSquare,\r\n  PlusCircle,\r\n  Sparkles,\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { useAppData } from '../../context/AppDataContext';\r\n\r\nconst navItems = [\r\n  { to: '/browse', label: 'Browse' },\r\n  { to: '/favorites', label: 'Favorites', requiresAuth: true },\r\n  { to: '/exchanges', label: 'Requests', requiresAuth: true },\r\n  { to: '/chat', label: 'Chat', requiresAuth: true },\r\n];\r\n\r\nconst Header = () => {\r\n  const { isAuthenticated, user, logout } = useAuth();\r\n  const { exchanges } = useAppData();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const pendingCount = exchanges.filter((item) => item.status === 'requested').length;\r\n\r\n  const handleAuthClick = () => {\r\n    if (isAuthenticated) {\r\n      navigate('/profile');\r\n    } else {\r\n      navigate('/auth/signin', { state: { from: location.pathname } });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-40 border-b border-white/10 bg-slate-950/80 backdrop-blur-xl\">\r\n      <div className=\"mx-auto flex max-w-6xl items-center justify-between px-4 py-4\">\r\n        <Link to=\"/\" className=\"flex items-center gap-2\">\r\n          <div className=\"rounded-xl bg-gradient-to-br from-emerald-500 to-teal-400 p-2 text-slate-900 shadow-lg\">\r\n            <BookOpen className=\"h-6 w-6\" />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-lg font-bold tracking-tight\">BookLoop</p>\r\n            <p className=\"text-xs uppercase tracking-[0.3em] text-white/50\">Exchange</p>\r\n          </div>\r\n        </Link>\r\n\r\n        <nav className=\"hidden items-center gap-6 md:flex\">\r\n          {navItems.map((item) => {\r\n            if (item.requiresAuth && !isAuthenticated) return null;\r\n            return (\r\n              <NavLink\r\n                key={item.to}\r\n                to={item.to}\r\n                className={({ isActive }) =>\r\n                  [\r\n                    'text-sm font-semibold transition-colors',\r\n                    isActive ? 'text-white' : 'text-white/60 hover:text-white',\r\n                  ].join(' ')\r\n                }\r\n              >\r\n                {item.label}\r\n                {item.to === '/exchanges' && pendingCount > 0 && (\r\n                  <span className=\"ms-2 inline-flex h-5 min-w-[1.5rem] items-center justify-center rounded-full bg-rose-500/90 px-2 text-[10px] font-bold text-white\">\r\n                    {pendingCount}\r\n                  </span>\r\n                )}\r\n              </NavLink>\r\n            );\r\n          })}\r\n        </nav>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={() => navigate('/browse')}\r\n            className=\"hidden items-center gap-2 rounded-full border border-white/10 px-3 py-2 text-xs font-semibold text-white/80 transition hover:bg-white/10 md:flex\"\r\n          >\r\n            <Sparkles className=\"h-4 w-4 text-emerald-400\" />\r\n            Discover\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => navigate(isAuthenticated ? '/add' : '/auth/signin')}\r\n            className=\"flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-teal-400 px-4 py-2 text-sm font-semibold text-slate-900 shadow-lg shadow-emerald-500/30 transition hover:opacity-95\"\r\n          >\r\n            <PlusCircle className=\"h-4 w-4\" />\r\n            List a Book\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleAuthClick}\r\n            className=\"relative flex h-10 w-10 items-center justify-center rounded-full border border-white/15 bg-white/5 text-white transition hover:bg-white/10\"\r\n            aria-label={isAuthenticated ? 'Open profile' : 'Sign in'}\r\n          >\r\n            {isAuthenticated ? (\r\n              <span className=\"text-xs font-bold uppercase\">\r\n                {(user?.name || user?.email || '?')\r\n                  .split(' ')\r\n                  .map((chunk) => chunk[0])\r\n                  .join('')\r\n                  .slice(0, 2)}\r\n              </span>\r\n            ) : (\r\n              <CircleUserRound className=\"h-5 w-5\" />\r\n            )}\r\n          </button>\r\n\r\n          {isAuthenticated && (\r\n            <button\r\n              onClick={logout}\r\n              className=\"hidden text-xs font-semibold text-white/60 transition hover:text-white md:inline-flex\"\r\n            >\r\n              Log out\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}