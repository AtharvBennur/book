{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\Desktop\\\\pro\\\\book-exchange-app\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Book, Search, PlusCircle, Library, User, LogOut, RefreshCw, MapPin, Heart, ArrowRight } from 'lucide-react';\n\n// Use the server API (file-based) instead of Firebase.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = '';\nconst BOOKS_API = `${API_BASE}/api/books`;\n\n// --- Components ---\n\nconst Navbar = ({\n  user,\n  setView,\n  currentView,\n  handleLogin,\n  handleLogout\n}) => /*#__PURE__*/_jsxDEV(\"nav\", {\n  className: \"bg-white border-b sticky top-0 z-50 px-4 py-3 shadow-sm\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto flex justify-between items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 cursor-pointer hover:opacity-80 transition\",\n      onClick: () => setView('home'),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-emerald-600 p-2 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(Book, {\n          className: \"w-6 h-6 text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xl font-bold text-gray-800 tracking-tight\",\n        children: \"BookLoop\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setView('browse'),\n        className: `text-sm font-medium transition ${currentView === 'browse' ? 'text-emerald-600' : 'text-gray-500 hover:text-gray-800'}`,\n        children: \"Browse Books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setView('add'),\n          className: `text-sm font-medium transition flex items-center gap-1 ${currentView === 'add' ? 'text-emerald-600' : 'text-gray-500 hover:text-gray-800'}`,\n          children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), \"Add Book\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 pl-4 border-l\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-700 font-bold text-xs\",\n            children: user.uid.slice(0, 2).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogout,\n            className: \"text-gray-400 hover:text-red-500 transition\",\n            title: \"Logout\",\n            children: /*#__PURE__*/_jsxDEV(LogOut, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        className: \"bg-gray-900 hover:bg-gray-800 text-white px-5 py-2 rounded-full text-sm font-medium transition shadow-md hover:shadow-lg\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 3\n}, this);\n_c = Navbar;\nconst Hero = ({\n  setView,\n  handleLogin,\n  user\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-gradient-to-b from-emerald-50 to-white pt-20 pb-24 px-4\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inline-flex items-center gap-2 bg-emerald-100 text-emerald-800 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n        className: \"w-3 h-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), \"The #1 Book Exchange Platform\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-5xl md:text-6xl font-extrabold text-gray-900 mb-6 leading-tight\",\n      children: [\"Give a Book. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-500\",\n        children: \"Get a Book.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-xl text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed\",\n      children: \"Join a community of readers. Upload the books gathering dust on your shelf and swap them for your next great adventure.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row items-center justify-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setView('browse'),\n        className: \"w-full sm:w-auto px-8 py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-lg transition shadow-xl hover:shadow-2xl hover:-translate-y-1\",\n        children: \"Start Browsing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), !user && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        className: \"w-full sm:w-auto px-8 py-4 bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-xl font-bold text-lg transition\",\n        children: \"Join Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16 grid grid-cols-3 gap-8 max-w-2xl mx-auto border-t pt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"2k+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 mt-1\",\n          children: \"Active Readers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"5k+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 mt-1\",\n          children: \"Books Swapped\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold text-gray-900\",\n          children: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 mt-1\",\n          children: \"Free to Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 78,\n  columnNumber: 3\n}, this);\n_c2 = Hero;\nconst BookCard = ({\n  book,\n  user,\n  handleExchange\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col overflow-hidden h-full hover:-translate-y-1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-48 overflow-hidden relative bg-gray-100\",\n      children: [book.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: book.imageUrl,\n        alt: book.title,\n        className: \"w-full h-full object-cover transition duration-500 group-hover:scale-105\",\n        onError: e => {\n          e.target.src = 'https://images.unsplash.com/photo-1543002588-bfa74002ed7e?auto=format&fit=crop&q=80&w=2730';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full h-full flex items-center justify-center text-gray-300 bg-slate-50\",\n        children: /*#__PURE__*/_jsxDEV(Book, {\n          className: \"w-16 h-16\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md text-xs font-bold text-gray-700 shadow-sm\",\n        children: book.condition\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5 flex flex-col flex-grow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs font-semibold text-emerald-600 mb-2 uppercase tracking-wider\",\n        children: book.genre || 'General'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-bold text-gray-900 mb-1 leading-tight\",\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500 mb-4\",\n        children: [\"by \", book.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 text-xs text-gray-400 mb-6 mt-auto\",\n        children: [/*#__PURE__*/_jsxDEV(MapPin, {\n          className: \"w-3 h-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: book.location || 'Remote'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between pt-4 border-t border-gray-50 mt-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-6 h-6 rounded-full bg-gradient-to-br from-purple-400 to-indigo-500 text-[10px] text-white flex items-center justify-center\",\n            children: book.ownerId ? book.ownerId.slice(0, 2).toUpperCase() : '??'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Owner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 12\n        }, this), user && user.uid === book.ownerId ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs font-medium text-gray-400 bg-gray-100 px-3 py-1 rounded-full\",\n          children: \"Your Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 14\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleExchange(book),\n          disabled: book.status === 'exchanged',\n          className: `text-sm font-medium px-4 py-2 rounded-lg transition-colors ${book.status === 'exchanged' ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-emerald-600 hover:bg-emerald-700 text-white'}`,\n          children: book.status === 'exchanged' ? 'Taken' : 'Request'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_c3 = BookCard;\nconst Browse = ({\n  books,\n  loading,\n  user,\n  handleExchange\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const filteredBooks = books.filter(book => book.title.toLowerCase().includes(searchTerm.toLowerCase()) || book.author.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Explore Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Find your next favorite read.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-full md:w-96\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by title or author...\",\n          className: \"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 outline-none transition\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this) : filteredBooks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-20 bg-gray-50 rounded-2xl border border-dashed border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(Book, {\n        className: \"w-12 h-12 text-gray-300 mx-auto mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-900\",\n        children: \"No books found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"Try adjusting your search terms.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",\n      children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n        book: book,\n        user: user,\n        handleExchange: handleExchange\n      }, book.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n};\n_s(Browse, \"a1cMJ8t0eYFnsCEdGcHtaGJdbCM=\");\n_c4 = Browse;\nconst AddBook = ({\n  setView,\n  user\n}) => {\n  _s2();\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    author: '',\n    genre: 'Fiction',\n    condition: 'Good',\n    location: '',\n    imageUrl: ''\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user) return;\n    setLoading(true);\n    try {\n      // Add to Firestore\n      await addDoc(collection(db, BOOKS_COLLECTION), {\n        ...formData,\n        ownerId: user.uid,\n        status: 'available',\n        createdAt: serverTimestamp()\n      });\n      setView('browse');\n    } catch (error) {\n      console.error(\"Error adding book:\", error);\n      alert(\"Failed to add book. Try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto px-4 py-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-8 rounded-2xl shadow-lg border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-emerald-100 p-3 rounded-full\",\n          children: /*#__PURE__*/_jsxDEV(PlusCircle, {\n            className: \"w-6 h-6 text-emerald-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: \"List a Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-sm\",\n            children: \"Share a book with the community\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-semibold text-gray-700\",\n              children: \"Book Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              className: \"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\",\n              placeholder: \"e.g. The Great Gatsby\",\n              value: formData.title,\n              onChange: e => setFormData({\n                ...formData,\n                title: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-semibold text-gray-700\",\n              children: \"Author\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              className: \"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\",\n              placeholder: \"e.g. F. Scott Fitzgerald\",\n              value: formData.author,\n              onChange: e => setFormData({\n                ...formData,\n                author: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-semibold text-gray-700\",\n              children: \"Genre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition bg-white\",\n              value: formData.genre,\n              onChange: e => setFormData({\n                ...formData,\n                genre: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Fiction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Non-Fiction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Sci-Fi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Mystery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Biography\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Textbook\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-semibold text-gray-700\",\n              children: \"Condition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition bg-white\",\n              value: formData.condition,\n              onChange: e => setFormData({\n                ...formData,\n                condition: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Like New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Good\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Fair\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: \"Poor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-semibold text-gray-700\",\n            children: \"Cover Image URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            className: \"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\",\n            placeholder: \"https://example.com/image.jpg\",\n            value: formData.imageUrl,\n            onChange: e => setFormData({\n              ...formData,\n              imageUrl: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: \"Tip: Search Google Images, right click image, \\\"Copy Image Address\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-semibold text-gray-700\",\n            children: \"City/Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            className: \"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\",\n            placeholder: \"e.g. New York, NY\",\n            value: formData.location,\n            onChange: e => setFormData({\n              ...formData,\n              location: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-4 flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setView('browse'),\n            className: \"flex-1 px-6 py-3 border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            className: \"flex-1 px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl shadow-lg shadow-emerald-200 transition flex justify-center items-center\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 26\n            }, this) : 'List Book'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Main App Component ---\n_s2(AddBook, \"F9knlpYJ9vz1wcEg0NGlCFvfvao=\");\n_c5 = AddBook;\nexport default function App() {\n  _s3();\n  const [user, setUser] = useState(null);\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentView, setCurrentView] = useState('home'); // home, browse, add\n  const [notification, setNotification] = useState(null);\n\n  // 1. Auth Handling (simple local auth via localStorage)\n  useEffect(() => {\n    const stored = localStorage.getItem('be_user');\n    if (stored) setUser(JSON.parse(stored));\n  }, []);\n\n  // 2. Data Fetching\n  const fetchBooks = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(BOOKS_API);\n      const data = await res.json();\n      setBooks(data || []);\n    } catch (err) {\n      console.error('Fetch books error', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  // Actions\n  const handleLogin = () => {\n    // create a simple user object and store locally\n    const newUser = {\n      uid: Date.now().toString(36),\n      name: 'Guest'\n    };\n    localStorage.setItem('be_user', JSON.stringify(newUser));\n    setUser(newUser);\n    showNotification('Signed in as guest', 'success');\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('be_user');\n    setUser(null);\n    setCurrentView('home');\n    showNotification('Logged out', 'default');\n  };\n  const handleExchange = async book => {\n    if (!user) {\n      showNotification('Please sign in to request books.', 'error');\n      return;\n    }\n    if (!confirm(`Request to exchange \"${book.title}\"?`)) return;\n    try {\n      const res = await fetch(`${BOOKS_API}/${book.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          status: 'exchanged',\n          exchangedTo: user.uid,\n          exchangedAt: new Date().toISOString()\n        })\n      });\n      if (!res.ok) throw new Error('Failed');\n      showNotification('Request sent! Happy reading.', 'success');\n      fetchBooks();\n    } catch (err) {\n      console.error(err);\n      showNotification('Failed to process exchange.', 'error');\n    }\n  };\n  const showNotification = (message, type = 'default') => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  // Helper for View Rendering\n  const renderView = () => {\n    switch (currentView) {\n      case 'home':\n        return /*#__PURE__*/_jsxDEV(Hero, {\n          setView: setCurrentView,\n          handleLogin: handleLogin,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 16\n        }, this);\n      case 'browse':\n        return /*#__PURE__*/_jsxDEV(Browse, {\n          books: books,\n          loading: loading,\n          user: user,\n          handleExchange: handleExchange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 16\n        }, this);\n      case 'add':\n        return user ? /*#__PURE__*/_jsxDEV(AddBook, {\n          setView: setCurrentView,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(Hero, {\n          setView: setCurrentView,\n          handleLogin: handleLogin,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 74\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Hero, {\n          setView: setCurrentView,\n          handleLogin: handleLogin,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white font-sans text-gray-900 pb-10\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      user: user,\n      setView: setCurrentView,\n      currentView: currentView,\n      handleLogin: handleLogin,\n      handleLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 7\n    }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed top-20 right-4 z-50 px-6 py-3 rounded-lg shadow-xl border animate-fade-in-down ${notification.type === 'success' ? 'bg-emerald-100 border-emerald-200 text-emerald-800' : notification.type === 'error' ? 'bg-red-100 border-red-200 text-red-800' : 'bg-gray-800 text-white'}`,\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: renderView()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 471,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"j4UX1sDcuRpL2Cu1QwiTpZi7kpk=\");\n_c6 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Navbar\");\n$RefreshReg$(_c2, \"Hero\");\n$RefreshReg$(_c3, \"BookCard\");\n$RefreshReg$(_c4, \"Browse\");\n$RefreshReg$(_c5, \"AddBook\");\n$RefreshReg$(_c6, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Book","Search","PlusCircle","Library","User","LogOut","RefreshCw","MapPin","Heart","ArrowRight","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","BOOKS_API","Navbar","user","setView","currentView","handleLogin","handleLogout","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","uid","slice","toUpperCase","title","_c","Hero","_c2","BookCard","book","handleExchange","imageUrl","src","alt","onError","e","target","condition","genre","author","location","ownerId","disabled","status","_c3","Browse","books","loading","_s","searchTerm","setSearchTerm","filteredBooks","filter","toLowerCase","includes","type","placeholder","value","onChange","length","map","id","_c4","AddBook","_s2","setLoading","formData","setFormData","handleSubmit","preventDefault","addDoc","collection","db","BOOKS_COLLECTION","createdAt","serverTimestamp","error","console","alert","onSubmit","required","_c5","App","_s3","setUser","setBooks","setCurrentView","notification","setNotification","stored","localStorage","getItem","JSON","parse","fetchBooks","res","fetch","data","json","err","newUser","Date","now","toString","name","setItem","stringify","showNotification","removeItem","confirm","method","headers","body","exchangedTo","exchangedAt","toISOString","ok","Error","message","setTimeout","renderView","_c6","$RefreshReg$"],"sources":["C:/Users/dell/Desktop/pro/book-exchange-app/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Book, \r\n  Search, \r\n  PlusCircle, \r\n  Library, \r\n  User, \r\n  LogOut, \r\n  RefreshCw, \r\n  MapPin,\r\n  Heart,\r\n  ArrowRight\r\n} from 'lucide-react';\r\n\r\n// Use the server API (file-based) instead of Firebase.\r\nconst API_BASE = '';\r\nconst BOOKS_API = `${API_BASE}/api/books`;\r\n\r\n// --- Components ---\r\n\r\nconst Navbar = ({ user, setView, currentView, handleLogin, handleLogout }) => (\r\n  <nav className=\"bg-white border-b sticky top-0 z-50 px-4 py-3 shadow-sm\">\r\n    <div className=\"max-w-6xl mx-auto flex justify-between items-center\">\r\n      <div \r\n        className=\"flex items-center gap-2 cursor-pointer hover:opacity-80 transition\" \r\n        onClick={() => setView('home')}\r\n      >\r\n        <div className=\"bg-emerald-600 p-2 rounded-lg\">\r\n          <Book className=\"w-6 h-6 text-white\" />\r\n        </div>\r\n        <span className=\"text-xl font-bold text-gray-800 tracking-tight\">BookLoop</span>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-6\">\r\n        <button \r\n          onClick={() => setView('browse')}\r\n          className={`text-sm font-medium transition ${currentView === 'browse' ? 'text-emerald-600' : 'text-gray-500 hover:text-gray-800'}`}\r\n        >\r\n          Browse Books\r\n        </button>\r\n        \r\n        {user ? (\r\n          <>\r\n            <button \r\n              onClick={() => setView('add')}\r\n              className={`text-sm font-medium transition flex items-center gap-1 ${currentView === 'add' ? 'text-emerald-600' : 'text-gray-500 hover:text-gray-800'}`}\r\n            >\r\n              <PlusCircle className=\"w-4 h-4\" />\r\n              Add Book\r\n            </button>\r\n            <div className=\"flex items-center gap-3 pl-4 border-l\">\r\n              <div className=\"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-700 font-bold text-xs\">\r\n                {user.uid.slice(0,2).toUpperCase()}\r\n              </div>\r\n              <button \r\n                onClick={handleLogout}\r\n                className=\"text-gray-400 hover:text-red-500 transition\"\r\n                title=\"Logout\"\r\n              >\r\n                <LogOut className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <button \r\n            onClick={handleLogin}\r\n            className=\"bg-gray-900 hover:bg-gray-800 text-white px-5 py-2 rounded-full text-sm font-medium transition shadow-md hover:shadow-lg\"\r\n          >\r\n            Sign In\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  </nav>\r\n);\r\n\r\nconst Hero = ({ setView, handleLogin, user }) => (\r\n  <div className=\"bg-gradient-to-b from-emerald-50 to-white pt-20 pb-24 px-4\">\r\n    <div className=\"max-w-4xl mx-auto text-center\">\r\n      <div className=\"inline-flex items-center gap-2 bg-emerald-100 text-emerald-800 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-6\">\r\n        <RefreshCw className=\"w-3 h-3\" />\r\n        The #1 Book Exchange Platform\r\n      </div>\r\n      <h1 className=\"text-5xl md:text-6xl font-extrabold text-gray-900 mb-6 leading-tight\">\r\n        Give a Book. <br/>\r\n        <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-500\">\r\n          Get a Book.\r\n        </span>\r\n      </h1>\r\n      <p className=\"text-xl text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed\">\r\n        Join a community of readers. Upload the books gathering dust on your shelf and swap them for your next great adventure.\r\n      </p>\r\n      <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n        <button \r\n          onClick={() => setView('browse')}\r\n          className=\"w-full sm:w-auto px-8 py-4 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-lg transition shadow-xl hover:shadow-2xl hover:-translate-y-1\"\r\n        >\r\n          Start Browsing\r\n        </button>\r\n        {!user && (\r\n          <button \r\n            onClick={handleLogin}\r\n            className=\"w-full sm:w-auto px-8 py-4 bg-white border border-gray-200 text-gray-700 hover:bg-gray-50 rounded-xl font-bold text-lg transition\"\r\n          >\r\n            Join Now\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Stats */}\r\n      <div className=\"mt-16 grid grid-cols-3 gap-8 max-w-2xl mx-auto border-t pt-8\">\r\n        <div>\r\n          <div className=\"text-3xl font-bold text-gray-900\">2k+</div>\r\n          <div className=\"text-sm text-gray-500 mt-1\">Active Readers</div>\r\n        </div>\r\n        <div>\r\n          <div className=\"text-3xl font-bold text-gray-900\">5k+</div>\r\n          <div className=\"text-sm text-gray-500 mt-1\">Books Swapped</div>\r\n        </div>\r\n        <div>\r\n          <div className=\"text-3xl font-bold text-gray-900\">100%</div>\r\n          <div className=\"text-sm text-gray-500 mt-1\">Free to Join</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst BookCard = ({ book, user, handleExchange }) => {\r\n  return (\r\n    <div className=\"group bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-xl transition-all duration-300 flex flex-col overflow-hidden h-full hover:-translate-y-1\">\r\n      <div className=\"h-48 overflow-hidden relative bg-gray-100\">\r\n        {book.imageUrl ? (\r\n          <img \r\n            src={book.imageUrl} \r\n            alt={book.title} \r\n            className=\"w-full h-full object-cover transition duration-500 group-hover:scale-105\"\r\n            onError={(e) => {\r\n              e.target.src = 'https://images.unsplash.com/photo-1543002588-bfa74002ed7e?auto=format&fit=crop&q=80&w=2730';\r\n            }}\r\n          />\r\n        ) : (\r\n          <div className=\"w-full h-full flex items-center justify-center text-gray-300 bg-slate-50\">\r\n            <Book className=\"w-16 h-16\" />\r\n          </div>\r\n        )}\r\n        <div className=\"absolute top-3 right-3 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md text-xs font-bold text-gray-700 shadow-sm\">\r\n          {book.condition}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"p-5 flex flex-col flex-grow\">\r\n        <div className=\"text-xs font-semibold text-emerald-600 mb-2 uppercase tracking-wider\">{book.genre || 'General'}</div>\r\n        <h3 className=\"text-lg font-bold text-gray-900 mb-1 leading-tight\">{book.title}</h3>\r\n        <p className=\"text-sm text-gray-500 mb-4\">by {book.author}</p>\r\n        \r\n        <div className=\"flex items-center gap-2 text-xs text-gray-400 mb-6 mt-auto\">\r\n          <MapPin className=\"w-3 h-3\" />\r\n          <span>{book.location || 'Remote'}</span>\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between pt-4 border-t border-gray-50 mt-auto\">\r\n           <div className=\"flex items-center gap-2\">\r\n             <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-purple-400 to-indigo-500 text-[10px] text-white flex items-center justify-center\">\r\n               {book.ownerId ? book.ownerId.slice(0,2).toUpperCase() : '??'}\r\n             </div>\r\n             <span className=\"text-xs text-gray-500\">Owner</span>\r\n           </div>\r\n\r\n           {user && user.uid === book.ownerId ? (\r\n             <span className=\"text-xs font-medium text-gray-400 bg-gray-100 px-3 py-1 rounded-full\">Your Book</span>\r\n           ) : (\r\n             <button \r\n                onClick={() => handleExchange(book)}\r\n                disabled={book.status === 'exchanged'}\r\n                className={`text-sm font-medium px-4 py-2 rounded-lg transition-colors ${\r\n                  book.status === 'exchanged' \r\n                  ? 'bg-gray-100 text-gray-400 cursor-not-allowed' \r\n                  : 'bg-emerald-600 hover:bg-emerald-700 text-white'\r\n                }`}\r\n             >\r\n               {book.status === 'exchanged' ? 'Taken' : 'Request'}\r\n             </button>\r\n           )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Browse = ({ books, loading, user, handleExchange }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  \r\n  const filteredBooks = books.filter(book => \r\n    book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    book.author.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Explore Collection</h2>\r\n          <p className=\"text-gray-500\">Find your next favorite read.</p>\r\n        </div>\r\n        \r\n        <div className=\"relative w-full md:w-96\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n          <input \r\n            type=\"text\" \r\n            placeholder=\"Search by title or author...\" \r\n            className=\"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 outline-none transition\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"flex justify-center items-center h-64\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600\"></div>\r\n        </div>\r\n      ) : filteredBooks.length === 0 ? (\r\n        <div className=\"text-center py-20 bg-gray-50 rounded-2xl border border-dashed border-gray-200\">\r\n          <Book className=\"w-12 h-12 text-gray-300 mx-auto mb-3\" />\r\n          <h3 className=\"text-lg font-medium text-gray-900\">No books found</h3>\r\n          <p className=\"text-gray-500\">Try adjusting your search terms.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\r\n          {filteredBooks.map(book => (\r\n            <BookCard key={book.id} book={book} user={user} handleExchange={handleExchange} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddBook = ({ setView, user }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    author: '',\r\n    genre: 'Fiction',\r\n    condition: 'Good',\r\n    location: '',\r\n    imageUrl: ''\r\n  });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!user) return;\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Add to Firestore\r\n      await addDoc(collection(db, BOOKS_COLLECTION), {\r\n        ...formData,\r\n        ownerId: user.uid,\r\n        status: 'available',\r\n        createdAt: serverTimestamp()\r\n      });\r\n      setView('browse');\r\n    } catch (error) {\r\n      console.error(\"Error adding book:\", error);\r\n      alert(\"Failed to add book. Try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto px-4 py-12\">\r\n      <div className=\"bg-white p-8 rounded-2xl shadow-lg border border-gray-100\">\r\n        <div className=\"flex items-center gap-3 mb-8\">\r\n          <div className=\"bg-emerald-100 p-3 rounded-full\">\r\n            <PlusCircle className=\"w-6 h-6 text-emerald-600\" />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">List a Book</h2>\r\n            <p className=\"text-gray-500 text-sm\">Share a book with the community</p>\r\n          </div>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-semibold text-gray-700\">Book Title</label>\r\n              <input \r\n                required\r\n                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\"\r\n                placeholder=\"e.g. The Great Gatsby\"\r\n                value={formData.title}\r\n                onChange={e => setFormData({...formData, title: e.target.value})}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-semibold text-gray-700\">Author</label>\r\n              <input \r\n                required\r\n                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\"\r\n                placeholder=\"e.g. F. Scott Fitzgerald\"\r\n                value={formData.author}\r\n                onChange={e => setFormData({...formData, author: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-semibold text-gray-700\">Genre</label>\r\n              <select \r\n                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition bg-white\"\r\n                value={formData.genre}\r\n                onChange={e => setFormData({...formData, genre: e.target.value})}\r\n              >\r\n                <option>Fiction</option>\r\n                <option>Non-Fiction</option>\r\n                <option>Sci-Fi</option>\r\n                <option>Mystery</option>\r\n                <option>Biography</option>\r\n                <option>Textbook</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-sm font-semibold text-gray-700\">Condition</label>\r\n              <select \r\n                className=\"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition bg-white\"\r\n                value={formData.condition}\r\n                onChange={e => setFormData({...formData, condition: e.target.value})}\r\n              >\r\n                <option>New</option>\r\n                <option>Like New</option>\r\n                <option>Good</option>\r\n                <option>Fair</option>\r\n                <option>Poor</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-semibold text-gray-700\">Cover Image URL</label>\r\n            <input \r\n              type=\"url\"\r\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\"\r\n              placeholder=\"https://example.com/image.jpg\"\r\n              value={formData.imageUrl}\r\n              onChange={e => setFormData({...formData, imageUrl: e.target.value})}\r\n            />\r\n            <p className=\"text-xs text-gray-500\">Tip: Search Google Images, right click image, \"Copy Image Address\"</p>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <label className=\"text-sm font-semibold text-gray-700\">City/Location</label>\r\n            <input \r\n              required\r\n              className=\"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-emerald-100 focus:border-emerald-500 outline-none transition\"\r\n              placeholder=\"e.g. New York, NY\"\r\n              value={formData.location}\r\n              onChange={e => setFormData({...formData, location: e.target.value})}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"pt-4 flex gap-4\">\r\n            <button \r\n              type=\"button\"\r\n              onClick={() => setView('browse')}\r\n              className=\"flex-1 px-6 py-3 border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button \r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"flex-1 px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl shadow-lg shadow-emerald-200 transition flex justify-center items-center\"\r\n            >\r\n              {loading ? <span className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white\"></span> : 'List Book'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- Main App Component ---\r\n\r\nexport default function App() {\r\n  const [user, setUser] = useState(null);\r\n  const [books, setBooks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentView, setCurrentView] = useState('home'); // home, browse, add\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  // 1. Auth Handling (simple local auth via localStorage)\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem('be_user');\r\n    if (stored) setUser(JSON.parse(stored));\r\n  }, []);\r\n\r\n  // 2. Data Fetching\r\n  const fetchBooks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(BOOKS_API);\r\n      const data = await res.json();\r\n      setBooks(data || []);\r\n    } catch (err) {\r\n      console.error('Fetch books error', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetchBooks(); }, []);\r\n\r\n  // Actions\r\n  const handleLogin = () => {\r\n    // create a simple user object and store locally\r\n    const newUser = { uid: Date.now().toString(36), name: 'Guest' };\r\n    localStorage.setItem('be_user', JSON.stringify(newUser));\r\n    setUser(newUser);\r\n    showNotification('Signed in as guest', 'success');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('be_user');\r\n    setUser(null);\r\n    setCurrentView('home');\r\n    showNotification('Logged out', 'default');\r\n  };\r\n\r\n  const handleExchange = async (book) => {\r\n    if (!user) { showNotification('Please sign in to request books.', 'error'); return; }\r\n    if (!confirm(`Request to exchange \"${book.title}\"?`)) return;\r\n    try {\r\n      const res = await fetch(`${BOOKS_API}/${book.id}`, {\r\n        method: 'PUT', headers: {'Content-Type':'application/json'},\r\n        body: JSON.stringify({ status: 'exchanged', exchangedTo: user.uid, exchangedAt: new Date().toISOString() })\r\n      });\r\n      if (!res.ok) throw new Error('Failed');\r\n      showNotification('Request sent! Happy reading.', 'success');\r\n      fetchBooks();\r\n    } catch (err) {\r\n      console.error(err);\r\n      showNotification('Failed to process exchange.', 'error');\r\n    }\r\n  };\r\n\r\n  const showNotification = (message, type = 'default') => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => setNotification(null), 3000);\r\n  };\r\n\r\n  // Helper for View Rendering\r\n  const renderView = () => {\r\n    switch (currentView) {\r\n      case 'home':\r\n        return <Hero setView={setCurrentView} handleLogin={handleLogin} user={user} />;\r\n      case 'browse':\r\n        return <Browse books={books} loading={loading} user={user} handleExchange={handleExchange} />;\r\n      case 'add':\r\n        return user ? <AddBook setView={setCurrentView} user={user} /> : <Hero setView={setCurrentView} handleLogin={handleLogin} user={user} />;\r\n      default:\r\n        return <Hero setView={setCurrentView} handleLogin={handleLogin} user={user} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white font-sans text-gray-900 pb-10\">\r\n      <Navbar \r\n        user={user} \r\n        setView={setCurrentView} \r\n        currentView={currentView}\r\n        handleLogin={handleLogin}\r\n        handleLogout={handleLogout}\r\n      />\r\n      \r\n      {/* Notification Toast */}\r\n      {notification && (\r\n        <div className={`fixed top-20 right-4 z-50 px-6 py-3 rounded-lg shadow-xl border animate-fade-in-down ${\r\n          notification.type === 'success' ? 'bg-emerald-100 border-emerald-200 text-emerald-800' :\r\n          notification.type === 'error' ? 'bg-red-100 border-red-200 text-red-800' :\r\n          'bg-gray-800 text-white'\r\n        }`}>\r\n          {notification.message}\r\n        </div>\r\n      )}\r\n\r\n      <main>\r\n        {renderView()}\r\n      </main>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}