{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dell\\\\Desktop\\\\pro\\\\book-exchange-app\\\\client\\\\src\\\\pages\\\\Favorites.jsx\",\n  _s = $RefreshSig$();\nimport { useNavigate } from 'react-router-dom';\nimport { Heart } from 'lucide-react';\nimport BookGrid from '../components/books/BookGrid';\nimport SectionHeading from '../components/common/SectionHeading';\nimport EmptyState from '../components/common/EmptyState';\nimport { useAppData } from '../context/AppDataContext';\nimport { useAuth } from '../context/AuthContext';\nimport { exchangesApi, conversationsApi } from '../services/api';\nimport { useNotification } from '../context/NotificationContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Favorites = () => {\n  _s();\n  const {\n    books,\n    favorites,\n    toggleFavorite,\n    isOwner,\n    refreshBooks,\n    refreshExchanges\n  } = useAppData();\n  const {\n    token\n  } = useAuth();\n  const {\n    notify\n  } = useNotification();\n  const navigate = useNavigate();\n  const favoriteBooks = books.filter(book => favorites.includes(book.id));\n  if (!favorites.length) {\n    return /*#__PURE__*/_jsxDEV(EmptyState, {\n      title: \"No favorites yet\",\n      description: \"Tap the heart on any book to keep it in your shortlist.\",\n      icon: /*#__PURE__*/_jsxDEV(Heart, {\n        className: \"h-10 w-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 15\n      }, this),\n      action: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/browse'),\n        className: \"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-slate-600\",\n        children: \"Browse books\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this);\n  }\n  const handleRequest = async book => {\n    try {\n      await exchangesApi.create({\n        bookId: book.id,\n        message: `Checking in about ${book.title}`\n      }, token);\n      notify('Exchange request sent.', 'success');\n      refreshBooks();\n      refreshExchanges();\n    } catch (err) {\n      notify(err.message || 'Unable to request exchange.', 'error');\n    }\n  };\n  const handleChat = async book => {\n    try {\n      const conversation = await conversationsApi.create({\n        otherUserId: book.ownerId,\n        bookId: book.id\n      }, token);\n      navigate('/chat', {\n        state: {\n          conversationId: conversation.id\n        }\n      });\n    } catch (err) {\n      notify(err.message || 'Unable to open chat.', 'error');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(SectionHeading, {\n      eyebrow: \"Saved list\",\n      title: \"Books you\\u2019re tracking\",\n      description: \"You\\u2019ll get notified when statuses change or owners reply.\",\n      align: \"left\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookGrid, {\n      books: favoriteBooks,\n      favorites: favorites,\n      onToggleFavorite: toggleFavorite,\n      onRequestExchange: handleRequest,\n      onChat: handleChat,\n      isOwner: isOwner\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Favorites, \"OONO8aAb/YGB55Jf/XtPGSmdfUU=\", false, function () {\n  return [useAppData, useAuth, useNotification, useNavigate];\n});\n_c = Favorites;\nexport default Favorites;\nvar _c;\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"names":["useNavigate","Heart","BookGrid","SectionHeading","EmptyState","useAppData","useAuth","exchangesApi","conversationsApi","useNotification","jsxDEV","_jsxDEV","Favorites","_s","books","favorites","toggleFavorite","isOwner","refreshBooks","refreshExchanges","token","notify","navigate","favoriteBooks","filter","book","includes","id","length","title","description","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","action","onClick","children","handleRequest","create","bookId","message","err","handleChat","conversation","otherUserId","ownerId","state","conversationId","eyebrow","align","onToggleFavorite","onRequestExchange","onChat","_c","$RefreshReg$"],"sources":["C:/Users/dell/Desktop/pro/book-exchange-app/client/src/pages/Favorites.jsx"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\r\nimport { Heart } from 'lucide-react';\r\nimport BookGrid from '../components/books/BookGrid';\r\nimport SectionHeading from '../components/common/SectionHeading';\r\nimport EmptyState from '../components/common/EmptyState';\r\nimport { useAppData } from '../context/AppDataContext';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { exchangesApi, conversationsApi } from '../services/api';\r\nimport { useNotification } from '../context/NotificationContext';\r\n\r\nconst Favorites = () => {\r\n  const { books, favorites, toggleFavorite, isOwner, refreshBooks, refreshExchanges } = useAppData();\r\n  const { token } = useAuth();\r\n  const { notify } = useNotification();\r\n  const navigate = useNavigate();\r\n  const favoriteBooks = books.filter((book) => favorites.includes(book.id));\r\n\r\n  if (!favorites.length) {\r\n    return (\r\n      <EmptyState\r\n        title=\"No favorites yet\"\r\n        description=\"Tap the heart on any book to keep it in your shortlist.\"\r\n        icon={<Heart className=\"h-10 w-10\" />}\r\n        action={\r\n          <button\r\n            onClick={() => navigate('/browse')}\r\n            className=\"rounded-full border border-slate-200 px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-slate-600\"\r\n          >\r\n            Browse books\r\n          </button>\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  const handleRequest = async (book) => {\r\n    try {\r\n      await exchangesApi.create(\r\n        { bookId: book.id, message: `Checking in about ${book.title}` },\r\n        token\r\n      );\r\n      notify('Exchange request sent.', 'success');\r\n      refreshBooks();\r\n      refreshExchanges();\r\n    } catch (err) {\r\n      notify(err.message || 'Unable to request exchange.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleChat = async (book) => {\r\n    try {\r\n      const conversation = await conversationsApi.create(\r\n        { otherUserId: book.ownerId, bookId: book.id },\r\n        token\r\n      );\r\n      navigate('/chat', { state: { conversationId: conversation.id } });\r\n    } catch (err) {\r\n      notify(err.message || 'Unable to open chat.', 'error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SectionHeading\r\n        eyebrow=\"Saved list\"\r\n        title=\"Books you’re tracking\"\r\n        description=\"You’ll get notified when statuses change or owners reply.\"\r\n        align=\"left\"\r\n      />\r\n      <BookGrid\r\n        books={favoriteBooks}\r\n        favorites={favorites}\r\n        onToggleFavorite={toggleFavorite}\r\n        onRequestExchange={handleRequest}\r\n        onChat={handleChat}\r\n        isOwner={isOwner}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Favorites;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}